import t from"./log.min.mjs";export default class e{static get_message(t){return chrome.i18n.getMessage(t)}static get_ui_language(){return chrome.i18n.getUILanguage()}static get_storage(t,e=null){chrome.storage.sync.get(t,e)}static set_storage(t,e=null){chrome.storage.sync.set(t,e)}static create_alarm(e,r,a=null){try{chrome.alarms.clear(e),chrome.alarms.onAlarm.addListener((function(t){t.name===e&&null!==a&&a()})),chrome.alarms.get(e,(function(t){void 0===t&&chrome.alarms.create(e,r)}))}catch(e){new t("Chrome create_alarm").error(e)}}static on_installed_listener(t){chrome.runtime.onInstalled.addListener(t)}static on_installed_reason(t){return"install"===t?chrome.runtime.OnInstalledReason.INSTALL:"update"===t?chrome.runtime.OnInstalledReason.UPDATE:null}static create_tab(t,r,a=null){null===a&&(a=t=>{}),1===t?chrome.tabs.create({url:e.get_resource_url(r)},a):2===t&&chrome.tabs.create({url:r},a)}static highlight_tab(t,e){chrome.tabs.highlight({windowId:t,tabs:e})}static query_tab(t,e){chrome.tabs.query({url:t},e)}static get_resource_url(t){return chrome.runtime.getURL(t)}static set_badge(t){chrome.browserAction.setBadgeText({text:""}),t>0&&(chrome.browserAction.setBadgeBackgroundColor({color:[0,177,235,255]}),chrome.browserAction.setBadgeText({text:t.toString()}))}static get_badge(t){chrome.browserAction.getBadgeText({},t)}static send_notification(t,e,r){r?chrome.notifications.clear(t,(function(r){chrome.notifications.create(t,e)})):chrome.notifications.update(t,e)}static add_notification_listener(t){chrome.notifications.onClicked.addListener((function(r,a){void 0!==t[r]&&e.query_tab(t[r].notification_url,(function(a){let o=a.shift();0===a.length?e.create_tab(2,t[r].notification_url):e.highlight_tab(o.windowId,o.index)}))}))}}