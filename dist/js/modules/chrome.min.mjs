import t from"./log.min.mjs";export default class e{static get_message(t){return chrome.i18n.getMessage(t)}static get_ui_language(){return chrome.i18n.getUILanguage()}static get_storage(t,e){chrome.storage.sync.get(t,e)}static set_storage(t,e){chrome.storage.sync.set(t,e)}static create_alarm(e,a,r){try{chrome.alarms.clear(e),chrome.alarms.onAlarm.addListener((function(t){t.name===e&&void 0!==r&&r()})),chrome.alarms.get(e,(function(t){void 0===t&&chrome.alarms.create(e,a)}))}catch(e){new t("Chrome create_alarm").error(e)}}static on_installed_listener(t){chrome.runtime.onInstalled.addListener(t)}static on_installed_reason(t){let e;switch(t){case"install":e=chrome.runtime.OnInstalledReason.INSTALL;break;case"update":e=chrome.runtime.OnInstalledReason.UPDATE;break;default:e=null}return e}static create_tab(t,e,a){switch(void 0===a&&(a=function(t){}),t){case 1:chrome.tabs.create({url:this.get_resource_url(e)},a);break;case 2:chrome.tabs.create({url:e},a)}}static highlight_tab(t,e){chrome.tabs.highlight({windowId:t,tabs:e})}static query_tab(t,e){chrome.tabs.query({url:t},e)}static get_resource_url(t){if(t)return chrome.runtime.getURL(t)}static set_badge(t){chrome.browserAction.setBadgeText({text:""}),t>0&&(chrome.browserAction.setBadgeBackgroundColor({color:[0,177,235,255]}),chrome.browserAction.setBadgeText({text:""+t}))}static get_badge(t){chrome.browserAction.getBadgeText({},t)}static send_notification(t,e,a){a?chrome.notifications.clear(t,(function(a){chrome.notifications.create(t,e)})):chrome.notifications.update(t,e)}static add_notification_listener(t){chrome.notifications.onClicked.addListener((function(a,r){void 0!==t[a]&&e.query_tab(t[a].notification_url,(function(r){let i=r.shift();0===r.length?e.create_tab(2,t[a].notification_url,(function(t){})):e.highlight_tab(i.windowId,i.index)}))}))}}