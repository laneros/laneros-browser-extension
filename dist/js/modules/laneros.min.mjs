import*as e from"../../../vendor/js/jquery-3.5.1.min.js";import*as t from"../../../vendor/js/jquery.form.min.js";import*as a from"../../../vendor/js/jquery.validate.min.js";import r from"./chrome.min.mjs";import s from"./common.min.mjs";export default class n{user_data={};constructor(e,t,a){let n=new s,i=this,o=function(e){switch(e){case"home":$(".home-tab, .user-links").removeClass("hidden"),i.show_profile_links(!0);break;case"inbox":$(".inbox-tab").removeClass("hidden"),i.get_conversations(!0);break;case"alerts":$(".alerts-tab").removeClass("hidden"),i.get_alerts(!0);break;case"subscriptions":$(".subscriptions-tab").removeClass("hidden"),i.get_subscriptions(!0);break;case"bookmarks":$(".bookmarks-tab").removeClass("hidden"),i.get_bookmarks(!0)}};this.user_data=Object.assign(this.user_data,{user_id:e,token:t}),a.conversations>0&&$(".inbox-counter").removeClass("invisible").html(a.conversations),a.alerts>0&&$(".alert-counter").removeClass("invisible").html(a.alerts),a.subscriptions>0&&$(".subscription-counter").removeClass("invisible").html(a.subscriptions),$("body").css("height","auto"),$(".loading-box").fadeOut((function(){$(".section-user").removeClass("hidden").hide().fadeIn("fast"),$("header").removeClass("hidden")})),$(".user-id").each((function(){if(void 0!==$(this).attr("href")){let e=$(this).attr("href").replace("{user-id}",i.user_data.user_id);$(this).attr("href",e)}if(void 0!==$(this).attr("action")){let e=$(this).attr("action").replace("{user-id}",i.user_data.user_id);$(this).attr("action",e)}})),$(".token-value").each((function(){if(void 0!==$(this).attr("href")){let e=$(this).attr("href").replace("{token-value}",i.user_data.token);$(this).attr("href",e)}if(void 0!==$(this).attr("action")){let e=$(this).attr("action").replace("{token-value}",i.user_data.token);$(this).attr("action",e)}void 0!==$(this).is(":input")&&$(this).val(i.user_data.token)})),$(".tab-list a").on("click",(function(e){if(e.preventDefault(),!$(this).hasClass("cursor-not-allowed")){let e=$(this).attr("href").replace("#",""),t={active_tab:e};r.set_storage(t,o(e)),$(".tab-list a").removeClass("text-white bg-blue-500 hover:bg-blue-600 hover:text-white dark:text-white dark:hover:bg-gray-600").addClass("text-blue-500 hover:text-blue-600 hover:bg-gray-400 dark:text-blue-400 dark:hover:text-blue-100 dark:hover:bg-gray-600"),$(this).addClass("text-white bg-blue-500 hover:bg-blue-600 hover:text-white dark:text-white dark:hover:bg-gray-600").removeClass("text-blue-500 hover:bg-gray-400 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-100 dark:hover:bg-gray-600"),$(".tab-content .tab").addClass("hidden"),$("#"+e).removeClass("hidden").find(".alert-processing").removeClass("hidden").hide().fadeIn()}return!1})),this.get_user_info(),this.show_profile_links(),this.get_conversations(),this.get_alerts(),this.get_subscriptions(),this.get_bookmarks(),r.get_storage({active_tab:n.get_defaults("active_tab")},(function(e){let t,a=$('a[href="#'+e.active_tab+'"]');$(a).hasClass("hidden")?(t=$(".tab-list").find("a:not(.hidden):first"),$(t).addClass("text-white bg-blue-500 hover:bg-blue-600 hover:text-white dark:text-white dark:hover:bg-gray-600").removeClass("text-blue-500 hover:bg-gray-400 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-100 dark:hover:bg-gray-600"),t=$(t).attr("href")):(t="#"+e.active_tab,$(a).addClass("text-white bg-blue-500 hover:bg-blue-600 hover:text-white dark:text-white dark:hover:bg-gray-600").removeClass("text-blue-500 hover:bg-gray-400 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-100 dark:hover:bg-gray-600")),void 0!==t?($(t).find(".loading-data").removeClass("hidden"),o(t.replace("#",""))):($("body").css("height","auto"),$(".alert-no-sections").removeClass("hidden"))}))}get_user_info(){let e=new s,t=this;r.get_storage({show_user_info:e.get_defaults("show_user_info")},(function(a){let r=$(".section-user"),s=$(r).find(".user-info-container");if(a.show_user_info){let a=document.createElement("div"),n=function(e){a=$(e.html.content),$("input[name*=visible]:first",a).is(":checked")&&$("#ctrl_pageStatus_visible").attr("checked",!0)},i=function(e){let n=$(s).find(".user-info"),i=$(s).find(".user-data");a=$(e.html.content);let o=$(".avatarWrapper .avatar img",a).attr("src"),d=$(".contentRow-minor .fauxBlockLink:first dd a",a).html(),l=$(".contentRow-minor .fauxBlockLink:eq(1) dd a",a).html(),h=$(".contentRow-minor .fauxBlockLink:eq(2) dd a",a).html(),g=$(".contentRow-minor .feedbackStats dd .Positive",a).text(),m=$(".contentRow-minor .feedbackStats dd .Neutral",a).text(),f=$(".contentRow-minor .feedbackStats dd .Negative",a).text();t.user_data=Object.assign(t.user_data,{username:$(".contentRow-header a.username",a).text(),title:$(".contentRow-lesser .userTitle",a).text(),full_id:$(".contentRow-header a.username",a).text()+"."+t.user_data.user_id}),$(r).find(".user-id-full").each((function(){if(void 0!==$(this).attr("href")){let e=$(this).attr("href").replace("{user-id-full}",t.user_data.full_id);$(this).attr("href",e)}if(void 0!==$(this).attr("action")){let e=$(this).attr("action").replace("{user-id-full}",t.user_data.full_id);$(this).attr("action",e)}})),$(n).find("a").html(t.user_data.username),$(n).find("small").html(t.user_data.title),$(s).find(".avatar").attr("src",o),$(i).find(".user-messages").html(d),$(i).find(".user-rating").html(l),$(i).find(".user-points").html(h),$(i).find(".user-feedback-positive").html(g||0),$(i).find(".user-feedback-neutral").html(m||0),$(i).find(".user-feedback-negative").html(f||0),$(s).removeClass("hidden")};$.getJSON(e.get_page_url()+"account/visitor-menu?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+t.user_data.token,i),$.getJSON(e.get_page_url()+"account/privacy?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+t.user_data.token,n)}else $(s).addClass("hidden")}))}show_profile_links(){let e=new s;r.get_storage({show_links:e.get_defaults("show_links")},(function(e){if(e.show_links){let e=$("#statusPoster"),t=function(e,t){$(".alert-home-message").slideUp()},a=function(e,t){"ok"===e.status?($(".alert-home-message").addClass("bg-green-100 border-green-500 text-green-500").removeClass("bg-red-100 border-red-500 text-red-500").slideDown(),$(".alert-home-message h4").html(r.get_message("label_success_message")),$(".alert-home-message p").html(e.message)):($(".alert-home-message").addClass("bg-red-100 border-red-500 text-red-500").removeClass("bg-green-100 border-green-500 text-green-500").slideDown(),$(".alert-home-message h4").html(r.get_message("label_error_message")),$(".alert-home-message p").html(e.error.message))},s=function(e,t){$(".alert-home-message").slideDown(),$(".alert-home-message h4").html(r.get_message("label_error_message")),$(".alert-home-message p").html(r.get_message("text_error_message"))};e.find(".status-message").addClass("hidden"),e.find(".status-length").removeClass("text-orange-500 text-red-500").addClass("text-green-500").html(140),$.validator&&(e.validate({submitHandler:function(e){return $(e).ajaxSubmit({beforeSubmit:t,success:a,error:s,dataType:"json"}),!1}}),$("#ctrl_pageStatus_visible").click((function(){$("#visibilityForm").ajaxSubmit({beforeSubmit:t,success:a,error:s,dataType:"json"})}))),$("#message").on("focus",(function(){e.find(".status-message").removeClass("hidden"),$("html, body").animate({scrollTop:$(document).height()},"slow")})).on("focusout",(function(){e.find(".status-message").addClass("hidden")})).on("keyup",(function(){let t=$(this).val().length;t<=140?e.find(".status-length").html(140-t):($(this).val($(this).val().substr(0,140)),e.find(".status-length").html(0)),t>100&&e.find(".status-length").removeClass("text-green-500").addClass("text-orange"),t>120&&e.find(".status-length").removeClass("text-green-500 text-orange").addClass("text-red-500")})),$("html, body").animate({scrollTop:0},"fast"),$(".alert-no-sections").addClass("hidden"),$(".home-tab-nav a").removeClass("hidden")}else $(".alert-home-message").removeClass("hidden")}))}get_conversations(e=!1){let t=new s,a=this;r.get_storage({show_inbox:t.get_defaults("show_inbox")},(function(s){let n=$("#inbox");if(s.show_inbox){let s=function(e){let a=document.createElement("div"),s=!1;$(a).html(e.html.content),n.find(".conversation-item:gt(0)").remove(),n.find(".alert-processing").hide(),0===$(a).find("div.menu-row").length&&$(a).find("li.menu-row--separated").each((function(){let e=n.find(".conversation-item:first").clone(),a=$(this).find(".contentRow-main a"),i=$(this).find(".contentRow-figure"),o=$(i).find("a.avatar img"),d=$(this).find(".contentRow-main .contentRow-minor--hideLinks"),l=$(d).find("ul"),h=$(this).find(".contentRow-main .contentRow-minor--smaller time"),g=$(this).hasClass("menu-row--highlighted");g&&(s=!0,$(e).addClass("bg-yellow-100 dark:bg-yellow-100"),$(e).find("div:first").addClass("dark:border-yellow-300"),$(e).find(".conversation-body h6 a").addClass("text-gray-600 hover:text-gray-900 dark:text-gray-600 dark:hover:text-gray-900"),$(e).find(".conversation-body .conversation-with").addClass("dark:text-gray-500")),1===$(o).length?$(e).find(".conversation-avatar > img").attr("src",$(o).attr("src")).attr("alt",$(o).attr("alt")):$(e).find(".conversation-avatar > img").addClass("bg-gray-600 border border-gray-900"),$(d).find("ul").remove(),$(e).find(".conversation-avatar").attr("href",$(i).find("a.avatar").attr("href")),$(e).find(".conversation-title").html(a.html()).attr("href",a.attr("href")),$(e).find(".conversation-with").html($(d).text()),$(e).find(".conversation-time").html($(h).html()).attr("title",$(h).attr("title")),$(l).find("li").each((function(t){let a=document.createElement("a"),r=$(e).find(".conversation-with"),s=$(this).find("span:first"),n=$(s).text(),i=$(s).data("user-id"),o=$(s).attr("title");$(a).html(n).attr("title",o).attr("href","members/"+n+"."+i),$(a).appendTo(r),t<$(l).find("li").length-1&&$(r).append(", ")})),$(e).find("a").each((function(){$(this).attr("target","_blank"),$(this).closest(".conversation-with").find("a").addClass("text-blue-500 hover:text-blue-600"),g&&$(this).closest(".conversation-with").find("a").addClass("dark:text-blue-400 dark:hover:text-blue-300"),-1===$(this).attr("href").indexOf(t.get_page_url())&&$(this).attr("href",t.get_page_url()+$(this).attr("href"))})),$(e).removeClass("hidden").appendTo("#inbox .conversation-container"),r.get_storage({inbox_notification:t.get_defaults("inbox_notification")},(function(e){if(e.inbox_notification&&s){let e=$(e).attr("href").split("/"),a=e[2].split(".").pop(),s=[];s["Laneros.Conversations."+a]={notification_url:t.get_page_url()+$(e).attr("href").substr(1)},r.send_notification("Laneros.Conversations."+a,{type:"basic",title:r.get_message("label_new_messages"),message:$(e).text(),iconUrl:$(o).attr("src")},!0),r.add_notification_listener(s)}}))})),0===$(a).find("div.menu-row").length&&s||n.find(".alert-inbox-message").removeClass("hidden")};e&&($.getJSON(t.get_page_url()+"conversations/popup?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+a.user_data.token,s),n.find(".conversation-item:gt(0)").remove(),n.find(".alert-inbox-message").addClass("hidden")),$(".alert-no-sections").addClass("hidden"),$(".inbox-tab-nav a").removeClass("hidden")}else $("#inbox .alert-inbox-message").removeClass("hidden")}))}get_alerts(e=!1){let t=new s,a=this;r.get_storage({show_alerts:t.get_defaults("show_alerts")},(function(s){let n=$("#alerts");if(s.show_alerts){let s=function(e){let a=document.createElement("div"),s=!1;$(a).html(e.html.content),n.find(".alert-item:gt(0)").remove(),n.find(".alert-processing").hide(),0===$(a).find("div.menu-row").length&&$(a).find("li.menu-row--separated").each((function(){let e=$("#alerts").find(".alert-item:first").clone(),a=$(this).find(".contentRow-main"),n=$(this).find(".contentRow-figure"),i=$(n).find("a.avatar img"),o=$(a).find(".contentRow-minor--smaller time");$(this).hasClass("new")&&(s=!0,$(e).addClass("bg-yellow-100 dark:bg-yellow-100"),$(e).find("div:first").addClass("dark:border-yellow-300"),$(e).find(".alert-content").addClass("text-gray-600 hover:text-gray-900 dark:text-gray-600 dark:hover:text-gray-900")),1===$(i).length?$(e).find(".alert-avatar > img").attr("src",$(i).attr("src")).attr("alt",$(i).attr("alt")):$(e).find(".alert-avatar > img").addClass("bg-gray-600 border border-gray-900"),$(a).find(".contentRow-minor--smaller, i").remove(),$(e).find(".alert-avatar").attr("href",$(n).find("a.avatar").attr("href")),$(e).find(".alert-content").html($(a).html()),$(e).find(".alert-time").html($(o).html()).attr("title",$(o).attr("title")),$(e).find(".alert-content img").removeClass().addClass("inline-block"),$(e).find("a").removeClass().addClass("text-blue-500 hover:text-blue-600"),$(e).find("bdi").removeClass().addClass("font-bold"),$(e).find("a").each((function(){$(this).attr("target","_blank"),-1===$(this).attr("href").indexOf(t.get_page_url())&&$(this).attr("href",t.get_page_url()+$(this).attr("href"))})),$(e).removeClass("hidden").appendTo("#alerts .alert-container"),r.get_storage({alerts_notification:t.get_page_url("alerts_notification")},(function(e){if(e.alerts_notification&&s){let e=Math.floor(100*Math.random()+1),s=[];s["Laneros.Alerts."+e]={notification_url:t.get_page_url()+"account/alerts"},r.send_notification("Laneros.Alerts."+e,{type:"basic",title:r.get_message("label_new_alerts"),message:$(a).text(),iconUrl:$(i).attr("src")},!0),r.add_notification_listener(s)}}))})),0===$(a).find("div.menu-row").length&&s||n.find(".alert-alerts-message").removeClass("hidden")};e&&($.getJSON(t.get_page_url()+"account/alerts-popup?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+a.user_data.token,s),n.find(".alert-item:gt(0)").remove(),n.find(".alert-alerts-message").addClass("hidden")),$(".alert-no-sections").addClass("hidden"),$(".alerts-tab-nav a").removeClass("hidden")}else $("#alerts .alert-alerts-message").removeClass("hidden")}))}get_subscriptions(e=!1){let t=new s,a=this;r.get_storage({show_subscriptions:t.get_defaults("show_subscriptions")},(function(s){let n=$("#subscriptions");if(s.show_subscriptions){let s=function(e){let a=document.createElement("div"),s=!1;$(a).html(e.html.content),n.find(".thread-item:gt(0)").remove(),n.find(".alert-processing").hide(),$(a).find(".structItem--thread").length>0?$(a).find(".structItem--thread").each((function(){let e=$("#subscriptions").find(".thread-item:first").clone(),a=document.createElement("a"),n=document.createElement("a"),i=document.createElement("a"),o=$(this).find(".structItem-cell--main .structItem-title a"),d=$(this).find(".structItem-cell--icon"),l=$(d).find("a.avatar img"),h=$(e).find(".thread-starter"),g=$(this).find(".structItem-cell--main .structItem-parts"),m=$(g).find("li:first a.username"),f=$(g).find("li:eq(1) a"),c=$(g).find("li:last a"),u=$(m).text(),b=$(m).data("user-id"),v=$(this).find(".structItem-cell--latest"),_=$(this).hasClass("is-unread");_&&(s=!0,$(e).addClass("bg-yellow-100 dark:bg-yellow-100"),$(e).find("div:first").addClass("dark:border-yellow-300"),$(e).find(".thread-body h6 a").addClass("text-gray-600 hover:text-gray-900 dark:text-gray-600 dark:hover:text-gray-900")),$(this).find(".structItem-secondaryIcon").length>0&&$(e).addClass("border-l-4 border-blue-500 dark:border-blue-600"),$(l).length>=1?$(e).find(".thread-avatar > img").attr("src",$(l).attr("src")).attr("alt",$(l).attr("alt")):$(e).find(".thread-avatar > img").addClass("bg-gray-600 border border-gray-900"),$(e).find(".thread-avatar").attr("href",$(d).find("a.avatar").attr("href")),$(e).find(".thread-title").html(o.html()).attr("href",o.attr("href")),$(a).html(u).attr("href","members/"+u+"."+b),$(a).appendTo(h),$(h).append(" · "),$(n).html(f.html()).attr("href",f.attr("href")),$(n).appendTo(h),$(h).append(" · "),$(i).html(c.html()).attr("href",c.attr("href")),$(i).appendTo(h),$(e).find(".message-info .message-by").replaceWith($(v).find(".structItem-minor a")),$(e).find(".message-info .message-at").replaceWith($(v).find("a:first")),$(e).find(".thread-starter a, .message-info a").removeClass().addClass("text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300"),$(e).find("time").closest("a").removeClass().addClass("text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-300"),$(e).find("a").each((function(){$(this).attr("target","_blank"),-1===$(this).attr("href").indexOf(t.get_page_url())&&$(this).attr("href",t.get_page_url()+$(this).attr("href"))})),$(e).removeClass("hidden").appendTo("#subscriptions .thread-container"),r.get_storage({subscriptions_notification:t.get_defaults("subscriptions_notification")},(function(e){if(e.subscriptions_notification&&_){let e=$(e).attr("href").split("/"),a=e[2].split(".").pop(),s=[];s["Laneros.Subscriptions."+a]={notification_url:t.get_page_url()+$(e).attr("href").substr(1)},r.send_notification("Laneros.Subscriptions."+a,{type:"basic",title:r.get_message("label_new_subscription"),message:$(e).text(),iconUrl:$(l).attr("src")},!0),r.add_notification_listener(s)}}))})):n.find(".alert-subscriptions-message").removeClass("hidden")};e&&($.getJSON(t.get_page_url()+"watched/threads?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+a.user_data.token,s),n.find(".thread-item:gt(0)").remove(),n.find(".alert-inbox-message").addClass("hidden")),$(".alert-no-sections").addClass("hidden"),$(".subscriptions-tab-nav a").removeClass("hidden")}else $("#subscriptions .alert-subscriptions-message").removeClass("hidden")}))}get_bookmarks(e=!1){let t=new s,a=this;r.get_storage({show_bookmarks:t.get_defaults("show_bookmarks")},(function(r){let s=$("#bookmarks");if(r.show_bookmarks){let r=function(e){let a=document.createElement("div");$(a).html(e.html.content),s.find(".bookmark-item:gt(0)").remove(),s.find(".alert-processing").hide(),$(a).find(".contentRow-main").length>0&&$(a).find("li.menu-row--separated").each((function(){let e=$("#bookmarks").find(".bookmark-item:first").clone(),a=$(this).find(".contentRow-main .contentRow-title"),r=$(this).find(".contentRow-figure"),s=$(r).find(".avatar img"),n=$(this).find(".contentRow-main .contentRow-snippet"),i=$(this).find(".contentRow-main .contentRow-minor--smaller"),o=$(i).find("time"),d=$(i).find(".tagList"),l=$(s).attr("alt")+"."+$(r).find(".avatar").data("user-id");1===$(s).length?$(e).find(".bookmark-avatar > img").attr("src",$(s).attr("src")).attr("alt",$(s).attr("alt")):$(e).find(".bookmark-avatar > img").addClass("bg-gray-600 border border-gray-900"),$(d).find(".u-srOnly").remove(),$(e).find(".bookmark-avatar").attr("href",t.get_page_url()+"members/"+l),$(e).find(".bookmark-title").html(a.html()).attr("href",a.attr("href")),$(e).find(".bookmark-message").html($(n).html()),$(e).find(".bookmark-author").attr("href",t.get_page_url()+"members/"+l).html($(s).attr("alt")),$(e).find(".bookmark-time").html(o),$(d).find("a").length>0&&($(e).find(".bookmark-labels").removeClass("hidden"),$(d).find("a").each((function(){let t=$(e).find(".bookmark-labels .bookmark-label:first").clone();$(t).html(this).removeClass("hidden").appendTo($(e).find(".bookmark-labels"))}))),$(e).find("a").each((function(){$(this).attr("target","_blank"),-1===$(this).attr("href").indexOf(t.get_page_url())&&$(this).attr("href",t.get_page_url()+$(this).attr("href"))})),$(e).removeClass("hidden").appendTo("#bookmarks .bookmark-container")})),0===$(a).find(".contentRow-main").length&&$("#bookmarks").find(".alert-bookmarks-message").removeClass("hidden")};e&&($.getJSON(t.get_page_url()+"account/bookmarks-popup?_xfResponseType=json&_xfNoRedirect=1&_xfToken="+a.user_data.token,r),s.find(".bookmark-item:gt(0)").remove(),s.find(".alert-bookmarks-message").addClass("hidden")),$(".alert-no-sections").addClass("hidden"),$(".bookmarks-tab-nav a").removeClass("hidden")}else $("#bookmarks .alert-bookmarks-message").removeClass("hidden")}))}static set_validator(){$.validator&&$.validator.setDefaults({highlight:function(e){$(e).addClass("border-red-600 focus:border-red-600").removeClass("border-green-600 focus:border-green-600"),$("label[for="+$(e).attr("id")+"]").addClass("text-red-600").removeClass("text-green-600")},unhighlight:function(e){$(e).removeClass("border-red-600 focus:border-red-600").addClass("border-green-600 focus:border-green-600"),$("label[for="+$(e).attr("id")+"]").removeClass("text-red-600").addClass("text-green-600")},errorPlacement:function(e,t){$(t).closest(".mt-3").find("small").removeClass("invisible")}})}static show_login(e){r.set_badge(0),$(".section-login input[name=_xfToken]").val(e),$.validator&&$("#pageLogin").validate({submitHandler:function(e){return $(e).ajaxSubmit({beforeSubmit:function(){$("#pageLogin .alert-response").slideUp(),$("#pageLogin .alert-processing").slideDown()},success:function(e){$("#pageLogin .alert-processing").slideUp(),void 0!==e.html?($("#pageLogin .alert-response").removeClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").addClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown(),$("#pageLogin .alert-response h4").removeClass("text-green-500 dark:text-green-600").addClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").removeClass("text-green-500 dark:text-green-600").addClass("text-red-400 dark:text-red-500").html(r.get_message("text_error_login"))):void 0!==e.message&&""!==e.message?($("#pageLogin .alert-response").removeClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").addClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown(),$("#pageLogin .alert-response h4").removeClass("text-green-500 dark:text-green-600").addClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").removeClass("text-green-500 dark:text-green-600").addClass("text-red-400 dark:text-red-500").html(e.message)):($("#pageLogin .alert-response").addClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").removeClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown((function(){$(".section-login").fadeOut("fast"),s.check_data(!0)})),$("#pageLogin .alert-response h4").addClass("text-green-500 dark:text-green-600").removeClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").addClass("text-green-500 dark:text-green-600").removeClass("text-red-400 dark:text-red-500").html(r.get_message("text_success_login")))},error:function(){$("#pageLogin .alert-response").slideDown(),$("#pageLogin .alert-response p").html(r.get_message("text_error_message")),$("#pageLogin .alert-processing").slideUp()},dataType:"json"}),!1}}),$(".loading-box").fadeOut((function(){$(".section-login").fadeIn("fast"),$("header").removeClass("hidden")}))}}