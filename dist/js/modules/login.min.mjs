import Chrome from"./chrome.min.mjs";import Common from"./common.min.mjs";export default class Login{constructor(){const e=this;Chrome.set_badge(0),$(".section-login input[name=_xfToken]").val(Common.get_token()),$(".loading-box").fadeOut((()=>{$(".section-login").fadeIn("fast"),$("header").removeClass("hidden")})),$.validator&&$("#pageLogin").validate({submitHandler:r=>{$(r).ajaxSubmit({beforeSubmit:e.before_submit,success:e.success,error:e.error,dataType:"json"})}})}before_submit(){$("#pageLogin .alert-response").slideUp(),$("#pageLogin .alert-processing").slideDown()}success(e){$("#pageLogin .alert-processing").slideUp(),void 0!==e.html?($("#pageLogin .alert-response").removeClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").addClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown(),$("#pageLogin .alert-response h4").removeClass("text-green-500 dark:text-green-600").addClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").removeClass("text-green-500 dark:text-green-600").addClass("text-red-400 dark:text-red-500").html(Chrome.get_message("text_error_login"))):void 0!==e.message&&""!==e.message?($("#pageLogin .alert-response").removeClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").addClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown(),$("#pageLogin .alert-response h4").removeClass("text-green-500 dark:text-green-600").addClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").removeClass("text-green-500 dark:text-green-600").addClass("text-red-400 dark:text-red-500").html(e.message)):($("#pageLogin .alert-response").addClass("border-green-500 dark:border-green-600 bg-green-100 dark:bg-green-200").removeClass("border-red-500 dark:border-red-600 bg-red-100 dark:bg-red-200").slideDown((()=>{$(".section-login").fadeOut("fast"),Common.check_data(!0)})),$("#pageLogin .alert-response h4").addClass("text-green-500 dark:text-green-600").removeClass("text-red-500 dark:text-red-600"),$("#pageLogin .alert-response p").addClass("text-green-500 dark:text-green-600").removeClass("text-red-400 dark:text-red-500").html(Chrome.get_message("text_success_login")))}error(){$("#pageLogin .alert-response").slideDown(),$("#pageLogin .alert-response p").html(Chrome.get_message("text_error_message")),$("#pageLogin .alert-processing").slideUp()}}